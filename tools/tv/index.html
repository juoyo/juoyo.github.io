
<!DOCTYPE html>  
<html>  
    <head>  
        <meta charset="UTF-8">  
        <title></title> 
		<script src="hls/hls.js"></script>    <!-- hls.js必须引入，可下载至本地 -->
        <style type="text/css">  
           
        </style>  
    </head>  
    <body>  
        <div id="id1" style="solid black">
			<div id="id2" style="float:left; solid">
				<video id="video" width='auto' height="600" src="" controls="controls" autoplay muted></video>
			</div>
			
			<div id="id3" style="width:100px;height:20px;float:left;solid">
				播放列表
				<form>
				 <select  onchange="change_hlsUrl(this)" id="select0">
				 <option value='' selected>------请选择-----</option>
				 <option value='http://ivi.bupt.edu.cn/hls/cctv1hd.m3u8'>CCTV-1综合</option>
				 <option value='http://ivi.bupt.edu.cn/hls/cctv4.m3u8'>CCTV-4财经</option>
				 <option value='http://ivi.bupt.edu.cn/hls/cctv6hd.m3u8'>CCTV-6电影</option>
				 </select>
				</form> 
			</div>
			<div id="id4" style="clear:both"></div> 
        </div> 
        
    </body>  
  <script type="text/javascript">
	//播放地址
	var hlsUrl="http://ivi.bupt.edu.cn/hls/cctv6hd.m3u8";//需要替换为自己的视频流地址
	var tvName = "CCTV-6电影"
	
	var change_hlsUrl = function(t){
        tvName = t.options[t.selectedIndex].text;
        hlsUrl = t.value;
        
        //换地址后方法重新调用
        alert("稍等片刻，流畅播放:  " +  tvName);
		loadVideo(hlsUrl, tvName);
    }
	
	//播放视频流 
    function loadVideo(hlsUrl, tvName){
	var video = document.getElementById('video');//获取 video 标签
	if(Hls.isSupported()) {
	var hls = new Hls();//实例化 Hls 对象
	hls.loadSource(hlsUrl);//传入路径
	hls.attachMedia(video);
	hls.on(Hls.Events.MANIFEST_PARSED,function() {
		   video.play();//调用播放 API
		});
	} else if (video.canPlayType('application/vnd.apple.mpegurl')) {
	          video.src = hlsUrl;
	          video.addEventListener('loadedmetadata',function() {
	              video.play();
	          });
	      }
    }
		
  //方法调用
  loadVideo(hlsUrl, tvName);
  </script>
</html>